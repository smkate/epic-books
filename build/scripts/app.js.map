{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/scripts/app.js","webpack:///./src/assets/scripts/script.js","webpack:///./src/assets/scripts/utils/utils.js","webpack:///./src/components/ApiService.js","webpack:///./src/components/cart/Cart.js","webpack:///./src/components/cart/index.js","webpack:///./src/components/catalog/CartService.js","webpack:///./src/components/catalog/Catalog.js","webpack:///./src/components/catalog/ModalService.js","webpack:///./src/components/catalog/index.js","webpack:///./src/components/slider/Slider.js","webpack:///./src/components/slider/index.js"],"names":["init","libs","catalog","slider","cart","document","attachEvent","readyState","addEventListener","selectLang","querySelector","selects","Choices","searchEnabled","shouldSort","callbackOnCreateTemplates","template","item","classNames","data","highlighted","highlightedState","itemSelectable","id","value","active","disabled","getLangInSelectIcon","label","substr","choice","itemChoice","itemDisabled","config","itemSelectText","groupId","console","log","range","getElementById","noUiSlider","create","start","connect","step","min","max","toRub","toLocaleString","declOfNum","count","titles","cases","word","ApiService","constructor","findBook","index","books","findIndex","uri","getBookStore","book","store","apiService","Cart","cartService","cartBox","cartCount","api","renderCart","target","closest","dataset","plus","putProducts","updateRow","refreshCart","minus","removeProducts","delete","deleteProduct","input","productCount","addProduct","removeAllBtn","removeAllProducts","refreshCount","refreshTotalSum","getCartLength","innerHTML","cartTotalSum","totalSum","getTotalSum","row","getProduct","amount","sumBox","sum","getProductSum","html","getProducts","cartContent","forEach","renderHtmlForCart","totalPrice","name","price","CartService","keyName","cartWidget","cartOneCount","updateCartWidget","productsLocalStorage","localStorage","getItem","JSON","parse","length","products","product","parseInt","push","setItem","stringify","splice","getPromotionSum","Catalog","selector","modalService","catalogListBox","e","preventDefault","card","htmlBook","renderHtmlForModal","open","addProductToCart","author","article","desc","renderOne","render","catalogList","renderSlider","sliderList","ModalService","modal","isOpen","closeModalBookBtn","close","window","key","renderModal","documentElement","classList","add","remove","content","catalogBox","Slider","prev","next","slides","querySelectorAll","currentSlideInd","sliderBox","width","position","nextSlide","Math","style","marginLeft","prevSlide"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/assets/scripts/app.js\");\n","// import data from '../../static/js/data.js';\n// import filter from \"../../components/filter\";\nimport cart from \"../../components/cart\";\nimport catalog from \"../../components/catalog\";\nimport slider from \"../../components/slider\";\nimport libs from \"./script\";\n\nconst init = () => {\n  libs();\n  catalog();\n  slider();\n  cart();\n\n\n\n  // filter();\n};\n\nif (\n  document.attachEvent\n    ? document.readyState === \"complete\"\n    : document.readyState !== \"loading\"\n) {\n  init();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", () => init());\n}\n","export default () => {\n  // ВНИМАНИЕ!\n  // Нижеследующий код (кастомный селект и выбор диапазона цены) работает\n  // корректно и не вызывает ошибок в консоли браузера только на главной.\n  // Одна из ваших задач: сделать так, чтобы на странице корзины в консоли\n  // браузера не было ошибок.\n\n  const selectLang = document.querySelector(\n    \".field-select:not(#lang) select.field-select__select\"\n  );\n  const selects = document.querySelector(\"#lang select.field-select__select\");\n\n  if (selects) {\n    // Кастомные селекты (кроме выбора языка)\n    new Choices(\".field-select:not(#lang) select.field-select__select\", {\n      searchEnabled: false,\n      shouldSort: false,\n    });\n  }\n\n  if (selectLang) {\n    // Кастомный селект выбора языка отдельно\n    new Choices(\"#lang select.field-select__select\", {\n      searchEnabled: false,\n      shouldSort: false,\n      callbackOnCreateTemplates: function(template) {\n        return {\n          item: (classNames, data) => {\n            return template(`\n            <div class=\"${classNames.item} ${\n              data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable\n            }\" data-item data-id=\"${data.id}\" data-value=\"${data.value}\" ${\n              data.active ? 'aria-selected=\"true\"' : \"\"\n            } ${data.disabled ? 'aria-disabled=\"true\"' : \"\"}>\n              ${getLangInSelectIcon(data.value)} ${data.label.substr(0, 3)}\n            </div>\n          `);\n          },\n          choice: (classNames, data) => {\n            return template(`\n            <div class=\"${classNames.item} ${classNames.itemChoice} ${\n              data.disabled\n                ? classNames.itemDisabled\n                : classNames.itemSelectable\n            }\" data-select-text=\"${this.config.itemSelectText}\" data-choice ${\n              data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : \"data-choice-selectable\"\n            } data-id=\"${data.id}\" data-value=\"${data.value}\" ${\n              data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"'\n            }>\n              ${getLangInSelectIcon(data.value)} ${data.label}\n            </div>\n          `);\n          },\n        };\n      },\n    });\n\n    function getLangInSelectIcon(value) {\n      if (value == \"ru\") return '<span class=\"field-select__lang-ru\"></span>';\n      else if (value == \"en\")\n        return '<span class=\"field-select__lang-en\"></span>';\n      return '<span class=\"field-select__lang-null\"></span>';\n    }\n  }\n\n  console.log(selects, selectLang);\n\n  const range = document.querySelector(\"#price-range\");\n\n  if (range) {\n    // Выбор диапазона цен\n    var slider = document.getElementById(\"price-range\");\n    noUiSlider.create(slider, {\n      start: [400, 1000],\n      connect: true,\n      step: 100,\n      range: {\n        min: 200,\n        max: 2000,\n      },\n    });\n  }\n};\n","export const toRub = (value) => {\n\n  if (value < 10000) {\n    return `${value}&thinsp;₽`;\n  } else {\n    return `${value.toLocaleString(\"ru-RU\")}&thinsp;₽`;\n  }\n};\n\nexport const declOfNum = (count, titles) => {\n  const cases = [2, 0, 1, 1, 1, 2];\n  const word =\n    titles[\n      count % 100 > 4 && count % 100 < 20\n        ? 2\n        : cases[count % 10 < 5 ? count % 10 : 5]\n    ];\n\n  return `${count}&nbsp;${word}`;\n};\n","class ApiService {\n  constructor() {\n    // this.findBook(id);\n  }\n\n  findBook(id) {\n    const index = books.findIndex((item) => {\n      return item.uri === id;\n    });\n\n    return books[index];\n  }\n\n  getBookStore(id) {\n    const book = this.findBook(id);\n\n    if (book) {\n      return book.store;\n    }\n\n    return 0;\n  }\n}\n\nconst apiService = new ApiService()\n\nexport default apiService;\n","import { declOfNum } from \"@utils/utils\";\n\nclass Cart {\n  constructor(cartService, apiService) {\n    this.cartService = cartService;\n    this.cartBox = document.querySelector(\"[data-cart-content]\");\n    this.cartCount = document.querySelector(\"[data-cart-count]\");\n    this.api = apiService;\n\n    if (this.cartBox) {\n      this.renderCart();\n      this.init();\n    }\n  }\n\n  init() {\n    // this.cartBox.addEventListener('click', (e) => {\n    // const {target} = e;\n    this.cartBox.addEventListener(\"click\", ({ target }) => {\n      // const amount = this.cartService.getCartLength();\n\n      if (target.closest(\"[data-plus]\")) {\n        const id = target.dataset.plus;\n        this.cartService.putProducts(id);\n\n        this.updateRow(id);\n        this.refreshCart();\n      }\n\n      if (target.closest(\"[data-minus]\")) {\n        const id = target.dataset.minus;\n        this.cartService.removeProducts(id);\n\n        this.updateRow(id);\n        this.refreshCart();\n      }\n\n      if (target.closest(\"[data-delete]\")) {\n        const id = target.dataset.delete;\n        this.cartService.deleteProduct(id);\n        this.renderCart();\n      }\n    });\n\n    // TODO обработчик ввода\n    // обновление количества в поле ввода\n    // Пересчет суммы корзины\n    this.cartBox.addEventListener(\"click\", ({ target }) => {\n      const input = target.closest(\"[data-product-count]\");\n\n      if (input) {\n        const id = input.dataset.productCount;\n        this.cartService.addProduct(id, input.value);\n        this.updateRow(id);\n        this.refreshCart();\n      }\n    });\n\n    const removeAllBtn = document.querySelector(\"[data-remove-cart]\");\n\n    removeAllBtn.addEventListener(\"click\", ({ target }) => {\n      // очистка корзины\n      if (target.closest(\"[data-remove-cart]\")) {\n        this.cartService.removeAllProducts();\n        this.renderCart();\n      }\n    });\n  }\n\n  refreshCart() {\n    this.refreshCount();\n    this.refreshTotalSum();\n  }\n\n  refreshCount() {\n    const count = this.cartService.getCartLength();\n    this.cartCount.innerHTML = `В корзине ${declOfNum(count, [\n      \"товар\",\n      \"товара\",\n      \"товаров\",\n    ])}`;\n  }\n\n  refreshTotalSum() {\n    const cartTotalSum = document.querySelector(\"#cart-products-price-num\");\n    const totalSum = this.cartService.getTotalSum();\n    cartTotalSum.innerHTML = totalSum;\n  }\n\n  updateRow(id) {\n    const row = document.querySelector(`[data-id=\"${id}\"]`);\n\n    // Обновление количества\n    const input = row.querySelector(\"[data-product-count]\");\n    const book = this.cartService.getProduct(id);\n    input.value = book.amount;\n\n    // обновление суммы\n    const sumBox = row.querySelector(\"[data-price]\");\n    const sum = this.cartService.getProductSum(id);\n    sumBox.innerHTML = sum;\n  }\n\n  renderCart(html) {\n    const books = this.cartService.getProducts();\n    console.log(books);\n\n    let cartContent = `\n      <tr class=\"cart__table-headers\">\n        <th class=\"cart__col-1\"></th>\n        <th class=\"cart__col-2\">Товар</th>\n        <th class=\"cart__col-3\">Кол-во</th>\n        <th class=\"cart__col-4\">Цена</th>\n        <th class=\"cart__col-5\"></th>\n      </tr>\n    `;\n\n    // books.forEach((item) => {\n    //   const book = this.api.findBook(item.id);\n    //   console.log(book);\n\n    //   cartContent += this.renderHtmlForCart({...book, amount: item.amount});\n    // });\n\n    books.forEach(({ id, amount }) => {\n      const book = this.api.findBook(id);\n\n      cartContent += this.renderHtmlForCart({ ...book, amount });\n    });\n\n    // выводим сумму корзины\n    const totalPrice = this.cartService.getTotalSum();\n\n    cartContent += `\n      <tr>\n        <td class=\"cart__products-price\" colspan=\"5\">\n          Итого к оплате:\n          <strong\n            class=\"cart__products-price-num\"\n            id=\"cart-products-price-num\"\n            >${totalPrice}</strong\n          >\n        </td>\n      </tr>\n    `;\n\n    this.cartBox.innerHTML = cartContent;\n    this.refreshCart();\n  }\n\n  renderHtmlForCart({ uri, name, price, amount }) {\n    return `\n          <tr class=\"cart__product\" data-id=\"${uri}\">\n            <td class=\"cart__col-1\">\n              <img class=\"cart__item-img\" src=\"img/books/${uri}.jpg\" alt=\"${name}\">\n              </td>\n                <td class=\"cart__col-2\">\n                <div class=\"cart__item-name\">${name}</div>\n              </td>\n\n              <td class=\"cart__col-3\">\n                <div class=\"field-num  field-num--bg-tran\">\n                    <span class=\"field-num__input-wrap\">\n                      <button class=\"field-num__btn-minus\" data-minus=\"${uri}\" type=\"button\">-</button>\n                      <input data-product-count=\"${uri}\" class=\"field-num__input\" type=\"number\" value=\"${amount}\" step=\"1\" min=\"1\"/>\n                      <button class=\"field-num__btn-plus\" data-plus=\"${uri}\" type=\"button\">+</button>\n                    </span>\n                </div>\n              </td>\n\n              <td class=\"cart__col-4\">\n                <span class=\"cart__item-price\" data-price>${amount *\n                  price} ₽</span>\n              </td>\n\n              <td class=\"cart__col-5\">\n                <button class=\"close cart__product-del-btn\" data-delete=\"${uri}\" type=\"button\">\n                    <svg width=\"16\" height=\"16\">\n                      <use xlink:href=\"#close\"></use>\n                    </svg>\n                </button>\n            </td>\n          </tr>\n      `;\n  }\n}\n\nexport default Cart;\n","import Cart from \"@/components/cart/Cart\";\nimport cartService from \"@/components/catalog/CartService\";\nimport apiService from \"../ApiService\";\n\nexport default () => {\n  const cartBox = document.querySelector(\".cart__table\");\n\n  if (!cartBox) return;\n\n  const cart = new Cart(cartService, apiService);\n  // cart.render();\n};\n\n// const cart = [];\n// renderCard(cartList); // [{name: 'Books'}]\n// addToCart(bookItem); //\n","import { toRub } from '@utils/utils';\nimport apiService from \"../ApiService\";\n\nclass CartService {\n  constructor() {\n    this.api = apiService;\n    this.keyName = \"cart\";\n    this.cart = this.getProducts();\n    this.cartWidget = document.querySelector(\".page-header__cart-num\");\n    this.cartOneCount = document.querySelector([\"data-product-count\"]);\n\n    this.updateCartWidget();\n  }\n\n  getProducts() {\n    const productsLocalStorage = localStorage.getItem(this.keyName);\n    if (!productsLocalStorage) return [];\n\n    return JSON.parse(productsLocalStorage);\n  }\n\n  getProduct(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    return products[index];\n  }\n\n  getProductSum(id) {\n    const product = this.getProduct(id)\n    const book = this.api.getBookStore(id);\n\n    return product.amount * book.price;\n  }\n\n  putProducts(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });;\n\n    if (index !== -1) {\n      const store = this.api.getBookStore(products[index].id);\n      \n      if (products[index].amount < parseInt(store, 10)) {\n        products[index].amount += 1;\n      }\n    } else {\n      products.push({\n        id,\n        amount: 1,\n      });\n    }\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n    this.updateCartWidget();\n  }\n\n  addProduct(id, count) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    const store = this.api.getBookStore(products[index].id);\n\n    if (index !== -1 && products[index].amount < store) {\n      products[index].amount = count;\n    }\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n    this.updateCartWidget();\n  }\n\n  removeProducts(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    if (index !== -1) {\n      if (products[index].amount > 1) {\n        products[index].amount -= 1;\n      } else {\n        this.deleteProduct(id);\n      }\n    }\n    \n    localStorage.setItem(this.keyName, JSON.stringify(products));\n    this.updateCartWidget();\n  }\n\n  deleteProduct(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    if (index !== -1) {\n      products.splice(index, 1);\n    }\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n    this.updateCartWidget();\n  }\n\n  removeAllProducts() {\n    localStorage.setItem(this.keyName, JSON.stringify([]));\n    this.updateCartWidget();\n  }\n\n  getCartLength() {\n    const cart = this.getProducts();\n    let count = 0;\n\n    cart.forEach((item) => {\n      count += item.amount;\n    });\n\n    return count;\n  }\n\n  updateCartWidget() {\n    this.cartWidget.innerHTML = this.getCartLength();\n  }\n\n  getPromotionSum() {\n  }\n\n  getTotalSum() {\n    const cart = this.getProducts(); // [id, amount]\n    let sum = 0;\n\n    cart.forEach((item) => {\n      const book = this.api.findBook(item.id); \n\n      sum += book.price * item.amount;\n\n      console.log(sum);\n    });\n\n    return toRub(sum);\n  }\n}\n\nconst cartService = new CartService();\n\nexport default cartService;\n","import apiService from '../ApiService'\n\nclass Catalog {\n  constructor(selector, cartService, modalService) {\n    this.cartService = cartService;\n    this.modalService = modalService;\n    this.api = apiService;\n\n    this.catalogListBox = document.querySelector(selector);\n\n    this.init();\n  }\n\n  init() {\n    // Навесить слушатели на каталог\n    this.catalogListBox.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n\n      // Открытие модального окна\n      if (e.target.closest(\".card .card__inner\")) {\n        const card = e.target.closest(\".card\");\n        const { id } = card.dataset;\n        const book = this.api.findBook(id);\n\n        const htmlBook = this.renderHtmlForModal(book);\n        this.modalService.open(htmlBook);\n      }\n\n      // Добавление в корзину\n      if (e.target.closest(\"[data-add-cart]\")) {\n        const item = e.target.closest(\"[data-add-cart]\");\n        const { id } = item.dataset;\n        this.addProductToCart(id);\n      }\n    });\n  }\n\n  addProductToCart(id) {\n    this.cartService.putProducts(id);\n  }\n\n  renderHtmlForModal(product) {\n    return `\n              <div class=\"product\">\n                <div class=\"product__img-wrap\">\n                  <img\n                    src=\"img/books/${product.uri}.jpg\"\n                    alt=\"${product.name}\"\n                    width=\"422\"\n                    height=\"594\"\n                  />\n                </div>\n                <div class=\"product__text-info\">\n                  <h2 class=\"product__title\">${product.name}</h2>\n                  <div class=\"rating product__rating\">\n                    <span class=\"rating__stars\">\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star-half\"></use>\n                      </svg>\n                    </span>\n                    <span class=\"rating__num\">4.6/5.0</span>\n                    <span class=\"rating__review\">20 отзывов</span>\n                  </div>\n                  <table class=\"product__table-info\">\n                    <tr>\n                      <th>Автор:</th>\n                      <td>\n                        <a href=\"\">${product.author}</a>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>Артикул:</th>\n                      <td>${product.article}</td>\n                    </tr>\n                    <tr>\n                      <th>В наличии:</th>\n                      <td>${product.store} шт.</td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"product__descr\">\n                  <h3 class=\"product__subtitle\">Описание:</h3>\n                  <p>\n                  ${product.desc}\n                  </p>\n                  <div class=\"product__actions\">\n                    <button class=\"btn  btn--price\" data-id=\"${product.uri}\" data-add-cart>\n                      ${product.price} ₽\n                      <span class=\"btn__sm-text\">\n                        <svg class=\"btn__icon\" width=\"14\" height=\"14\">\n                          <use xlink:href=\"#plus\"></use>\n                        </svg>\n                        <span>В корзину</span>\n                      </span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n    `;\n  }\n\n  renderOne({ name, price, uri }) {\n    return `\n      <article class=\"card\" data-id=\"${uri}\">\n        <a class=\"card__inner\" href=\"index.html#klienty-na-vsyu-zhizn\">\n          <img\n              class=\"card__img\"\n              src=\"img/books/${uri}.jpg\"\n              width=\"148\"\n              height=\"208\"\n              alt=\"${name}\"\n          />\n          <h2 class=\"card__title\">${name}</h2>\n          <p class=\"card__price\">${price} ₽</p>\n        </a>\n        <button class=\"btn btn--sm card__buy\" data-id=\"${uri}\" data-add-cart>\n          <svg class=\"btn__icon\" width=\"14\" height=\"14\">\n              <use xlink:href=\"#plus\"></use>\n          </svg>\n          <span>В корзину</span>\n        </button>\n      </article>\n    `;\n  }\n\n  render() {\n    let catalogList = \"\";\n\n    books.forEach((book) => {\n      catalogList += this.renderOne(book);\n    });\n\n    this.catalogListBox.innerHTML = catalogList;\n  }\n\n  renderSlider() {\n    let sliderList = \"\";\n\n    books.forEach((book) => {\n      sliderList += `\n            <div class=\"popular__slide\">\n              ${this.renderOne(book)}\n            </div>\n          `;\n    });\n\n    this.catalogListBox.innerHTML = sliderList;\n  }\n}\n\nexport default Catalog;\n","class ModalService {\n  constructor() {\n    this.modal = document.querySelector(\".modal\");\n    this.isOpen = false;\n\n    if (!this.modal) return;\n\n    this.init();\n  }\n\n  init() {\n    // слушаем\n    // кнопку закрыть\n    const closeModalBookBtn = document.querySelector(\".modal__close\");\n    closeModalBookBtn.addEventListener(\"click\", () => {\n      this.close();\n    });\n\n    // escape\n    window.addEventListener(\"keyup\", (e) => {\n      if (e.key === \"Escape\" || !e.target.closest(\".modal\")) {\n        this.close();\n      }\n    });\n\n    // Добавление в корзину\n    // const btnModal = document.querySelector(\".btn__sm-text\");\n    // console.log(btnModal);\n    // btnModal.addEventListener(\"click\", () => {\n    // const { id } = card.dataset;\n    // this.addProductToCart(id);\n    //   this.close();\n    // });\n  }\n\n  open(html) {\n    if (!html && !html.length) return;\n\n    this.isOpen = true;\n    this.renderModal(html);\n    document.documentElement.classList.add(\"js-modal-open\");\n    this.modal.classList.add(\"modal--open\");\n  }\n\n  close() {\n    this.isOpen = false;\n    document.documentElement.classList.remove(\"js-modal-open\");\n    this.modal.classList.remove(\"modal--open\");\n  }\n\n  renderModal(html) {\n    const content = this.modal.querySelector(\"[data-modal-content]\");\n    content.innerHTML = html;\n  }\n}\n\nexport default ModalService;\n","import Catalog from \"@/components/catalog/Catalog\";\nimport cartService from \"@/components/catalog/CartService\";\nimport ModalService from \"@/components/catalog/ModalService\";\n\nexport default () => {\n  const catalogBox = document.querySelector(\"[data-catalog]\");\n\n  if (!catalogBox) return;\n\n  const modalService = new ModalService();\n\n  const catalog = new Catalog(\"[data-catalog]\", cartService, modalService);\n  catalog.render();\n\n  const slider = new Catalog(\n    \"[data-popular-slider]\",\n    cartService,\n    modalService\n  );\n  slider.renderSlider();\n\n  new Catalog(\"[data-modal-content]\", cartService, null);\n};\n","class Slider {\n  constructor(selector) {\n    this.selector = selector;\n  }\n\n  init() {\n    const prev = document.getElementById(\"popular-slider-left\"),\n      next = document.getElementById(\"popular-slider-right\"),\n      slides = document.querySelectorAll(\".popular__slide\");\n\n    let index = 1,\n      currentSlideInd = document.getElementById(\"current-slide-index\"),\n      sliderBox = document.querySelector(\".popular__slider-box-container\"),\n      width = 220, // ширина картинки\n      count = 1, // видимое количество изображений\n      position = 0; // положение ленты прокрутки\n\n    const nextSlide = () => {\n      if (index < slides.length) {\n        // сдвиг вправо\n        position -= width * count;\n        // последнее передвижение вправо может быть не на 3, а на 2 или 1 элемент\n        position = Math.max(position, -width * (slides.length - count));\n        sliderBox.style.marginLeft = position + \"px\";\n        index++;\n      }\n    };\n\n    const prevSlide = () => {\n      if (index > 1) {\n        // сдвиг влево\n        position += width * count;\n        // последнее передвижение влево может быть не на 3, а на 2 или 1 элемент\n        position = Math.min(position, 220);\n        sliderBox.style.marginLeft = position + \"px\";\n        index--;\n      }\n    };\n\n    if (next) {\n      next.addEventListener(\"click\", nextSlide);\n    }\n\n    if (prev) {\n      prev.addEventListener(\"click\", prevSlide);\n    }\n  }\n}\n\nexport default Slider;","import Slider from \"@/components/slider/Slider\";\n\nexport default () => {\n\n    const slider = new Slider();\n    slider.init();\n};"],"sourceRoot":""}