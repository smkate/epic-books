{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/scripts/app.js","webpack:///./src/assets/scripts/script.js","webpack:///./src/components/ApiService.js","webpack:///./src/components/cart/Cart.js","webpack:///./src/components/cart/index.js","webpack:///./src/components/catalog/CartService.js","webpack:///./src/components/catalog/Catalog.js","webpack:///./src/components/catalog/ModalService.js","webpack:///./src/components/catalog/index.js","webpack:///./src/components/slider/Slider.js","webpack:///./src/components/slider/index.js"],"names":["init","libs","catalog","slider","cart","document","attachEvent","readyState","addEventListener","selectLang","querySelector","selects","Choices","searchEnabled","shouldSort","callbackOnCreateTemplates","template","item","classNames","data","highlighted","highlightedState","itemSelectable","id","value","active","disabled","getLangInSelectIcon","label","substr","choice","itemChoice","itemDisabled","config","itemSelectText","groupId","console","log","range","getElementById","noUiSlider","create","start","connect","step","min","max","ApiService","constructor","findBook","index","books","findIndex","uri","Cart","cartService","cartBox","api","renderCart","target","closest","dataset","plus","putProducts","minus","removeProducts","delete","deleteProduct","refreshCount","html","getProducts","cartContent","forEach","amount","book","renderHtmlForCart","totalPrice","innerHTML","name","price","CartService","keyName","cartWidget","updateCartWidget","productsLocalStorage","localStorage","getItem","JSON","parse","length","products","push","setItem","stringify","splice","removeAllProducts","getCartLength","count","getPromotionSum","Catalog","selector","modalService","catalogListBox","e","preventDefault","card","htmlBook","renderHtmlForModal","open","addProductToCart","product","author","article","store","desc","renderOne","render","catalogList","renderSlider","sliderList","ModalService","modal","isOpen","closeModalBookBtn","close","window","key","renderModal","documentElement","classList","add","remove","content","catalogBox","Slider","prev","next","slides","querySelectorAll","currentSlideInd","sliderBox","width","position","nextSlide","Math","style","marginLeft","prevSlide"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/assets/scripts/app.js\");\n","// import data from '../../static/js/data.js';\n// import filter from \"../../components/filter\";\nimport cart from \"../../components/cart\";\nimport catalog from \"../../components/catalog\";\nimport slider from \"../../components/slider\";\nimport libs from \"./script\";\n\nconst init = () => {\n  libs();\n  catalog();\n  slider();\n  cart();\n\n\n\n  // filter();\n};\n\nif (\n  document.attachEvent\n    ? document.readyState === \"complete\"\n    : document.readyState !== \"loading\"\n) {\n  init();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", () => init());\n}\n","export default () => {\n  // ВНИМАНИЕ!\n  // Нижеследующий код (кастомный селект и выбор диапазона цены) работает\n  // корректно и не вызывает ошибок в консоли браузера только на главной.\n  // Одна из ваших задач: сделать так, чтобы на странице корзины в консоли\n  // браузера не было ошибок.\n\n  const selectLang = document.querySelector(\n    \".field-select:not(#lang) select.field-select__select\"\n  );\n  const selects = document.querySelector(\"#lang select.field-select__select\");\n\n  if (selects) {\n    // Кастомные селекты (кроме выбора языка)\n    new Choices(\".field-select:not(#lang) select.field-select__select\", {\n      searchEnabled: false,\n      shouldSort: false,\n    });\n  }\n\n  if (selectLang) {\n    // Кастомный селект выбора языка отдельно\n    new Choices(\"#lang select.field-select__select\", {\n      searchEnabled: false,\n      shouldSort: false,\n      callbackOnCreateTemplates: function(template) {\n        return {\n          item: (classNames, data) => {\n            return template(`\n            <div class=\"${classNames.item} ${\n              data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable\n            }\" data-item data-id=\"${data.id}\" data-value=\"${data.value}\" ${\n              data.active ? 'aria-selected=\"true\"' : \"\"\n            } ${data.disabled ? 'aria-disabled=\"true\"' : \"\"}>\n              ${getLangInSelectIcon(data.value)} ${data.label.substr(0, 3)}\n            </div>\n          `);\n          },\n          choice: (classNames, data) => {\n            return template(`\n            <div class=\"${classNames.item} ${classNames.itemChoice} ${\n              data.disabled\n                ? classNames.itemDisabled\n                : classNames.itemSelectable\n            }\" data-select-text=\"${this.config.itemSelectText}\" data-choice ${\n              data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : \"data-choice-selectable\"\n            } data-id=\"${data.id}\" data-value=\"${data.value}\" ${\n              data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"'\n            }>\n              ${getLangInSelectIcon(data.value)} ${data.label}\n            </div>\n          `);\n          },\n        };\n      },\n    });\n\n    function getLangInSelectIcon(value) {\n      if (value == \"ru\") return '<span class=\"field-select__lang-ru\"></span>';\n      else if (value == \"en\")\n        return '<span class=\"field-select__lang-en\"></span>';\n      return '<span class=\"field-select__lang-null\"></span>';\n    }\n  }\n\n  console.log(selects, selectLang);\n\n  const range = document.querySelector(\"#price-range\");\n\n  if (range) {\n    // Выбор диапазона цен\n    var slider = document.getElementById(\"price-range\");\n    noUiSlider.create(slider, {\n      start: [400, 1000],\n      connect: true,\n      step: 100,\n      range: {\n        min: 200,\n        max: 2000,\n      },\n    });\n  }\n};\n","class ApiService {\n    constructor() {\n        \n    }\n\n    findBook(id) {\n      const index = books.findIndex((item) => {\n        return item.uri === id;\n      });\n  \n      return books[index];\n    }\n}\n\nexport default ApiService;","import ApiService from \"../ApiService\";\n\nclass Cart {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cartBox = document.querySelector(\"[data-cart-content]\");\n    this.api = new ApiService();\n\n    if (this.cartBox) {\n      this.renderCart();\n      this.init();\n    }\n  }\n\n  init() {\n    // this.cartBox.addEventListener('click', (e) => {\n      // const {target} = e;\n    this.cartBox.addEventListener('click', ({target}) => {\n\n      if (target.closest('[data-plus]')) {\n        const id = target.dataset.plus;\n        this.cartService.putProducts(id);\n\n        // this.updateRow();\n        // refreshCount\n      }\n      \n      if (target.closest('[data-minus]')) {\n        const id = target.dataset.minus;\n        this.cartService.removeProducts(id);\n        // removeAllProducts\n        // this.updateRow();\n        // refreshCount\n      }\n      \n      if (target.closest('[data-delete]')) {\n        const id = target.dataset.delete;\n        this.cartService.deleteProduct(id);\n        // refreshCount\n      }\n    });\n\n    // TODO обработчик ввода\n    // обновление количества в поле ввода\n    // Пересчет суммы корзины \n    // вывод количстве элементов this.cartService.getCartLength();\n    // во все деньги добавить разряды от 10 000 // 9999 // 99 9999 // 8888\n  }\n\n  refreshCount() {\n    // Товар, товара, товаров // pieces\n    // title.innerHTML = `В корзине ${this.cartService.getCartLength()} ${pieces()}`;\n  }\n\n  renderCart(html) {\n    const books = this.cartService.getProducts();\n    console.log(books);\n    let cartContent = `\n      <tr class=\"cart__table-headers\">\n        <th class=\"cart__col-1\"></th>\n        <th class=\"cart__col-2\">Товар</th>\n        <th class=\"cart__col-3\">Кол-во</th>\n        <th class=\"cart__col-4\">Цена</th>\n        <th class=\"cart__col-5\"></th>\n      </tr>\n    `;\n\n    // books.forEach((item) => {\n    //   const book = this.api.findBook(item.id);\n    //   console.log(book);\n\n    //   cartContent += this.renderHtmlForCart({...book, amount: item.amount});\n    // });\n    books.forEach(({ id, amount }) => {\n      const book = this.api.findBook(id);\n\n      cartContent += this.renderHtmlForCart({ ...book, amount });\n    });\n\n    const totalPrice = \"2 220000\";\n    cartContent += `\n      <tr>\n        <td class=\"cart__products-price\" colspan=\"5\">\n          Итого к оплате:\n          <strong\n            class=\"cart__products-price-num\"\n            id=\"cart-products-price-num\"\n            >${totalPrice} ₽</strong\n          >\n        </td>\n      </tr>\n    `;\n\n    this.cartBox.innerHTML = cartContent;\n  }\n\n  renderHtmlForCart({ uri, name, price, amount }) {\n    return `\n          <tr class=\"cart__product\">\n            <td class=\"cart__col-1\">\n              <img class=\"cart__item-img\" src=\"img/books/${uri}.jpg\" alt=\"${uri}\">\n              </td>\n                <td class=\"cart__col-2\">\n                <div class=\"cart__item-name\">${name}</div>\n              </td>\n\n              <td class=\"cart__col-3\">\n                <div class=\"field-num  field-num--bg-tran\">\n                    <span class=\"field-num__input-wrap\">\n                      <button class=\"field-num__btn-minus\" data-minus=\"${uri}\" type=\"button\">-</button>\n                      <input class=\"field-num__input\" type=\"number\" value=\"${amount}\" step=\"1\" min=\"1\"/>\n                      <button class=\"field-num__btn-plus\" data-plus=\"${uri}\" type=\"button\">+</button>\n                    </span>\n                </div>\n              </td>\n\n              <td class=\"cart__col-4\">\n                <span class=\"cart__item-price\">${amount * price} ₽</span>\n              </td>\n\n              <td class=\"cart__col-5\">\n                <button class=\"close cart__product-del-btn\" data-delete=\"${uri}\" type=\"button\">\n                    <svg width=\"16\" height=\"16\">\n                      <use xlink:href=\"#close\"></use>\n                    </svg>\n                </button>\n            </td>\n          </tr>\n      `;\n  }\n}\n\nexport default Cart;\n","import Cart from \"@/components/cart/Cart\";\nimport cartService from \"@/components/catalog/CartService\";\n\nexport default () => {\n  const cartBox = document.querySelector(\".cart__table\");\n\n  if (!cartBox) return;\n\n  const cart = new Cart(cartService);\n  // cart.render(); \n};\n\n// Находим куда вывести корзину, если этого места нет, то ничего не делаем\n// Получить данные корзины\n// Печатаем корзину\n// Навесить слушатели\n// // Очистка корзины\n// // // Затираем массив\n// // Поменять количество в строке\n// // Удалять элементы из корзины\n\n// const cart = [];\n// renderCard(cartList); // [{name: 'Books'}]\n// addToCart(bookItem); //\n\n// 1. Вывод состояния корзины на страницу\n// 2. Метод добавления товара в корзину\n// 3. Метод удаления товара из корзины\n// 4. Метод удаления всех товаров из корзины\n// 5. Метод изменения количества в плюс\n// 6. Метод изменения количества в минус\n// 7. Метод ввода значения руками\n// 8. Метод вывода количества товаров на иконку Корзины\n// 9. Метод вывода количества элементов\n// 10. Метод вывода суммы корзины\n","class CartService {\n  constructor() {\n    this.keyName = \"cart\";\n    this.cart = this.getProducts();\n    this.cartWidget = document.querySelector(\".page-header__cart-num\");\n\n    this.updateCartWidget();\n  }\n\n  getProducts() {\n    const productsLocalStorage = localStorage.getItem(this.keyName);\n    if (!productsLocalStorage) return [];\n\n    return JSON.parse(productsLocalStorage);\n  }\n\n  putProducts(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    if (index !== -1) {\n      const amount = products[index].amount;\n      products[index].amount = amount + 1;\n    } else {\n      products.push({\n        id,\n        amount: 1,\n      });\n    }\n\n    this.updateCartWidget();\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n  }\n\n  removeProducts(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    if (index !== -1) {\n      const amount = products[index].amount;\n\n      if (amount > 1) {\n        products[index].amount = amount - 1;\n      } else {\n        this.deleteProduct(id);\n      }\n    }\n\n    this.updateCartWidget();\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n  }\n\n  deleteProduct(id) {\n    if (!id && !id.length) return;\n\n    const products = this.getProducts();\n    const index = products.findIndex((item) => {\n      return item.id === id;\n    });\n\n    if (index !== -1) {\n      products.splice(index, 1);\n    }\n\n    this.updateCartWidget();\n\n    localStorage.setItem(this.keyName, JSON.stringify(products));\n  }\n\n  removeAllProducts() {\n    const books = this.getProducts();\n\n    books.forEach(({id}) => {\n      this.deleteProduct(id);\n    });\n\n    this.updateCartWidget();\n  }\n\n  getCartLength() {\n    const cart = this.getProducts();\n    let count = 0;\n\n    cart.forEach(item => {\n      count += item.amount;\n    });\n\n    return count;\n  }\n\n  updateCartWidget() {\n    this.cartWidget.innerHTML = this.getCartLength();\n  }\n\n  getPromotionSum() {\n\n  }\n}\n\nconst cartService = new CartService();\n\nexport default cartService;\n","class Catalog {\n  constructor(selector, cartService, modalService) {\n    this.cartService = cartService;\n    this.modalService = modalService;\n    \n    this.catalogListBox = document.querySelector(selector);\n\n    this.init();\n  }\n\n  init() {\n    // Навесить слушатели на каталог\n    this.catalogListBox.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n\n      // Открытие модального окна\n      if (e.target.closest(\".card .card__inner\")) {\n        const card = e.target.closest(\".card\");\n        const { id } = card.dataset;\n        const book = this.findBook(id);\n\n        const htmlBook = this.renderHtmlForModal(book);\n        this.modalService.open(htmlBook);\n      }\n\n      // Добавление в корзину\n      if (e.target.closest(\"[data-add-cart]\")) {\n        const item = e.target.closest(\"[data-add-cart]\")\n        const { id } = item.dataset;\n        this.addProductToCart(id);    \n      }\n    });\n  }\n\n  \n\n  addProductToCart(id) {\n    this.cartService.putProducts(id);\n  }\n\n  renderHtmlForModal(product) {\n    return `\n              <div class=\"product\">\n                <div class=\"product__img-wrap\">\n                  <img\n                    src=\"img/books/${product.uri}.jpg\"\n                    alt=\"${product.name}\"\n                    width=\"422\"\n                    height=\"594\"\n                  />\n                </div>\n                <div class=\"product__text-info\">\n                  <h2 class=\"product__title\">${product.name}</h2>\n                  <div class=\"rating product__rating\">\n                    <span class=\"rating__stars\">\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star\"></use>\n                      </svg>\n                      <svg width=\"18\" height=\"18\">\n                        <use xlink:href=\"#star-half\"></use>\n                      </svg>\n                    </span>\n                    <span class=\"rating__num\">4.6/5.0</span>\n                    <span class=\"rating__review\">20 отзывов</span>\n                  </div>\n                  <table class=\"product__table-info\">\n                    <tr>\n                      <th>Автор:</th>\n                      <td>\n                        <a href=\"\">${product.author}</a>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>Артикул:</th>\n                      <td>${product.article}</td>\n                    </tr>\n                    <tr>\n                      <th>В наличии:</th>\n                      <td>${product.store} шт.</td>\n                    </tr>\n                  </table>\n                </div>\n                <div class=\"product__descr\">\n                  <h3 class=\"product__subtitle\">Описание:</h3>\n                  <p>\n                  ${product.desc}\n                  </p>\n                  <div class=\"product__actions\">\n                    <button class=\"btn  btn--price\" data-id=\"${product.uri}\" data-add-cart>\n                      ${product.price} ₽\n                      <span class=\"btn__sm-text\">\n                        <svg class=\"btn__icon\" width=\"14\" height=\"14\">\n                          <use xlink:href=\"#plus\"></use>\n                        </svg>\n                        <span>В корзину</span>\n                      </span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n    `;\n  }\n\n  renderOne({ name, price, uri }) {\n    return `\n      <article class=\"card\" data-id=\"${uri}\">\n        <a class=\"card__inner\" href=\"index.html#klienty-na-vsyu-zhizn\">\n          <img\n              class=\"card__img\"\n              src=\"img/books/${uri}.jpg\"\n              width=\"148\"\n              height=\"208\"\n              alt=\"${name}\"\n          />\n          <h2 class=\"card__title\">${name}</h2>\n          <p class=\"card__price\">${price} ₽</p>\n        </a>\n        <button class=\"btn btn--sm card__buy\" data-id=\"${uri}\" data-add-cart>\n          <svg class=\"btn__icon\" width=\"14\" height=\"14\">\n              <use xlink:href=\"#plus\"></use>\n          </svg>\n          <span>В корзину</span>\n        </button>\n      </article>\n    `;\n  }\n\n  render() {\n    let catalogList = \"\";\n\n    books.forEach((book) => {\n        catalogList += this.renderOne(book);\n      });\n\n    this.catalogListBox.innerHTML = catalogList;\n  }\n\n  renderSlider() {\n    let sliderList = \"\";\n\n    books.forEach((book) => {\n      sliderList += `\n            <div class=\"popular__slide\">\n              ${this.renderOne(book)}\n            </div>\n          `;\n    });\n\n    this.catalogListBox.innerHTML = sliderList;\n  }\n}\n\nexport default Catalog;\n","class ModalService {\n  constructor() {\n    this.modal = document.querySelector(\".modal\");\n    this.isOpen = false;\n\n    if (!this.modal) return;\n\n    this.init();\n  }\n\n  init() {\n    // слушаем\n    // кнопку закрыть\n    const closeModalBookBtn = document.querySelector(\".modal__close\");\n    closeModalBookBtn.addEventListener(\"click\", () => {\n      this.close();\n    });\n\n    // escape\n    window.addEventListener(\"keyup\", (e) => {\n      if (e.key === \"Escape\") {\n        this.close();\n      }\n    });\n\n    // Добавление в корзину\n    // const btnModal = document.querySelector(\".btn__sm-text\");\n    // console.log(btnModal);\n    // btnModal.addEventListener(\"click\", () => {\n    // const { id } = card.dataset;\n    // this.addProductToCart(id);\n    //   this.close();\n    // });\n  }\n\n  open(html) {\n    if (!html && !html.length) return;\n\n    this.isOpen = true;\n    this.renderModal(html);\n    document.documentElement.classList.add(\"js-modal-open\");\n    this.modal.classList.add(\"modal--open\");\n  }\n\n  close() {\n    this.isOpen = false;\n    document.documentElement.classList.remove(\"js-modal-open\");\n    this.modal.classList.remove(\"modal--open\");\n  }\n\n  renderModal(html) {\n    const content = this.modal.querySelector(\"[data-modal-content]\");\n    content.innerHTML = html;\n  }\n}\n\nexport default ModalService;\n","import Catalog from \"@/components/catalog/Catalog\";\nimport cartService from \"@/components/catalog/CartService\";\nimport ModalService from \"@/components/catalog/ModalService\";\n\nexport default () => {\n  const catalogBox = document.querySelector(\"[data-catalog]\");\n\n  if (!catalogBox) return;\n\n  \n  const modalService = new ModalService();\n\n  const catalog = new Catalog(\"[data-catalog]\", cartService, modalService);\n  catalog.render();\n\n  const slider = new Catalog(\"[data-popular-slider]\", cartService, modalService);\n  slider.renderSlider();  \n\n  new Catalog(\"[data-modal-content]\", cartService, null);\n};\n","class Slider {\n  constructor(selector) {\n    this.selector = selector;\n  }\n\n  init() {\n    const prev = document.getElementById(\"popular-slider-left\"),\n      next = document.getElementById(\"popular-slider-right\"),\n      slides = document.querySelectorAll(\".popular__slide\");\n\n    let index = 1,\n      currentSlideInd = document.getElementById(\"current-slide-index\"),\n      sliderBox = document.querySelector(\".popular__slider-box-container\"),\n      width = 220, // ширина картинки\n      count = 1, // видимое количество изображений\n      position = 0; // положение ленты прокрутки\n\n    const nextSlide = () => {\n      if (index < slides.length) {\n        // сдвиг вправо\n        position -= width * count;\n        // последнее передвижение вправо может быть не на 3, а на 2 или 1 элемент\n        position = Math.max(position, -width * (slides.length - count));\n        sliderBox.style.marginLeft = position + \"px\";\n        index++;\n      }\n    };\n\n    const prevSlide = () => {\n      if (index > 1) {\n        // сдвиг влево\n        position += width * count;\n        // последнее передвижение влево может быть не на 3, а на 2 или 1 элемент\n        position = Math.min(position, 220);\n        sliderBox.style.marginLeft = position + \"px\";\n        index--;\n      }\n    };\n\n    if (next) {\n      next.addEventListener(\"click\", nextSlide);\n    }\n\n    if (prev) {\n      prev.addEventListener(\"click\", prevSlide);\n    }\n  }\n}\n\nexport default Slider;","import Slider from \"@/components/slider/Slider\";\n\nexport default () => {\n\n    const slider = new Slider();\n    slider.init();\n};"],"sourceRoot":""}